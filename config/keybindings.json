[
  // Window navigation (Normal mode) - use Ctrl+h/j/k/l to move splits
  {
    "key": "ctrl+h", 
    "command": "workbench.action.navigateLeft",
    "when": "!terminalFocus && vim.active && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+j",
    "command": "workbench.action.navigateDown",
    "when": "!terminalFocus && !suggestWidgetVisible && !inQuickOpen && vim.active && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+k",
    "command": "workbench.action.navigateUp",
    "when": "!terminalFocus && !suggestWidgetVisible && !inQuickOpen && vim.active && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+l",
    "command": "workbench.action.navigateRight",
    "when": "!terminalFocus && vim.active && vim.mode != 'Insert'"
  },

  // Window resizing (Ctrl + Arrow keys)
  {
    "key": "ctrl+up",
    "command": "workbench.action.increaseViewHeight",
    "when": "vim.active && vim.mode == 'Normal'"
  },
  {
    "key": "ctrl+down",
    "command": "workbench.action.decreaseViewHeight",
    "when": "vim.active && vim.mode == 'Normal'"
  },
  {
    "key": "ctrl+left",
    "command": "workbench.action.decreaseViewWidth",
    "when": "vim.active && vim.mode == 'Normal'"
  },
  {
    "key": "ctrl+right",
    "command": "workbench.action.increaseViewWidth",
    "when": "vim.active && vim.mode == 'Normal'"
  },

  // Buffer navigation (previous/next editor tab) - Shift+h / Shift+l in Normal mode
  {
    "key": "shift+h",
    "command": "workbench.action.previousEditor",
    "when": "vim.active && vim.mode != 'Insert'"
  },
  {
    "key": "shift+l",
    "command": "workbench.action.nextEditor",
    "when": "vim.active && vim.mode != 'Insert'"
  },

  // Move lines up/down (Alt+j/k)
  {
    "key": "alt+j",
    "command": "editor.action.moveLinesDownAction",
    "when": "editorTextFocus && !editorReadonly"
  },
  {
    "key": "alt+k",
    "command": "editor.action.moveLinesUpAction",
    "when": "editorTextFocus && !editorReadonly"
  },

  // Save file (Ctrl+s)
  {
    "key": "ctrl+s",
    "command": "workbench.action.files.save",
    "when": "editorTextFocus"
  },

  // Suggestion/Quick Open navigation with Ctrl+j/k
  {
    "key": "ctrl+j",
    "command": "selectNextSuggestion",
    "when": "suggestWidgetVisible"
  },
  {
    "key": "ctrl+k",
    "command": "selectPrevSuggestion",
    "when": "suggestWidgetVisible"
  },
  {
    "key": "ctrl+j",
    "command": "workbench.action.quickOpenSelectNext",
    "when": "inQuickOpen"
  },
  {
    "key": "ctrl+k",
    "command": "workbench.action.quickOpenSelectPrevious",
    "when": "inQuickOpen"
  },

  // Diagnostics navigation (go to next/prev problem) - LazyVim [d ]d (all diagnostics) and [e ]e (errors)
  {
    "key": "shift+oem_4 d",    // [d = previous diagnostic (in all files)
    "command": "editor.action.marker.prevInFiles",
    "when": "editorFocus && vim.active && vim.mode == 'Normal'"
  },
  {
    "key": "shift+oem_6 d",    // ]d = next diagnostic (in all files)
    "command": "editor.action.marker.nextInFiles",
    "when": "editorFocus && vim.active && vim.mode == 'Normal'"
  },
  {
    "key": "shift+oem_4 e",    // [e = previous problem (current file)
    "command": "editor.action.marker.prev",
    "when": "editorFocus && vim.active && vim.mode == 'Normal'"
  },
  {
    "key": "shift+oem_6 e",    // ]e = next problem (current file)
    "command": "editor.action.marker.next",
    "when": "editorFocus && vim.active && vim.mode == 'Normal'"
  },

  // Quickfix list navigation (search results navigation) - [q and ]q 
  {
    "key": "shift+oem_4 q",    // [q = previous search result
    "command": "search.action.focusPreviousSearchResult",
    "when": "hasSearchResult && vim.active && vim.mode == 'Normal'"
  },
  {
    "key": "shift+oem_6 q",    // ]q = next search result
    "command": "search.action.focusNextSearchResult",
    "when": "hasSearchResult && vim.active && vim.mode == 'Normal'"
  },

  // Alternate buffer navigation ([b and ]b for prev/next buffer) 
  {
    "key": "shift+oem_4 b",    // [b = previous editor
    "command": "workbench.action.previousEditor",
    "when": "editorFocus && vim.active && vim.mode == 'Normal'"
  },
  {
    "key": "shift+oem_6 b",    // ]b = next editor
    "command": "workbench.action.nextEditor",
    "when": "editorFocus && vim.active && vim.mode == 'Normal'"
  },

  // (LSP goto keys like gd, gD, etc., are handled in settings.json via Vim extension)

  // File explorer navigation with vim keys (when explorer focused, use Ctrl+h/j/k/l to move)
  {
    "key": "ctrl+h",
    "command": "list.collapse",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  {
    "key": "ctrl+l",
    "command": "list.expand",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  {
    "key": "ctrl+k",
    "command": "list.focusUp",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },
  {
    "key": "ctrl+j",
    "command": "list.focusDown",
    "when": "explorerViewletVisible && filesExplorerFocus && !inputFocus"
  },

  // Terminal toggling (Ctrl+/)
  {
    "key": "ctrl+oem_2",
    "command": "workbench.action.terminal.toggleTerminal"
  },
  {
    "key": "ctrl+oem_2",
    "command": "workbench.action.terminal.focus",
    "when": "!terminalFocus"
  },

  // Focus editor groups (Ctrl+1/2/3 for group 1/2/3)
  {
    "key": "ctrl+1",
    "command": "workbench.action.focusFirstEditorGroup"
  },
  {
    "key": "ctrl+2",
    "command": "workbench.action.focusSecondEditorGroup"
  },
  {
    "key": "ctrl+3",
    "command": "workbench.action.focusThirdEditorGroup"
  }
]
