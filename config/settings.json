{
  // Editor Settings
  // Display line numbers relative to the current cursor position
  "editor.lineNumbers": "relative",
  // Prevent scrolling beyond the last line of the file
  "editor.scrollBeyondLastLine": false,
  // Keep 8 lines visible above and below the cursor when scrolling
  "editor.cursorSurroundingLines": 8,
  // Enable smooth scrolling animation
  "editor.smoothScrolling": true,
  // Enable bracket pair colourization for better readability
  "editor.bracketPairColorization.enabled": true,
  // Show vertical lines for bracket pairs
  "editor.guides.bracketPairs": true,
  // Configure minimap for better performance and visibility
  "editor.minimap.renderCharacters": false,
  "editor.minimap.scale": 2,

  // Vim Configuration
  // Enable easymotion plugin for quick navigation
  "vim.easymotion": true,
  // Enable incremental search highlighting
  "vim.incsearch": true,
  // Use system clipboard for vim operations
  "vim.useSystemClipboard": true,
  // Enable Ctrl key combinations
  "vim.useCtrlKeys": true,
  // Enable search highlight
  "vim.hlsearch": true,
  // Set space as the leader key
  "vim.leader": " ",
  // Enable vim-sneak plugin for improved motion
  "vim.sneak": true,
  // Use relative line numbers in normal mode
  "vim.smartRelativeLine": true,
  // Fix common fold-related issues
  "vim.foldfix": true,
  // Enable and configure yank highlighting
  "vim.highlightedyank.enable": true,
  "vim.highlightedyank.duration": 200,
  // Customize search highlight color
  "vim.searchHighlightColor": "rgba(180, 142, 173, 0.5)",
  // Don't start on the first line of a file
  "vim.startup.firstline": false,

  // Status Line Integration
  // Enable status bar color control based on Vim mode
  "vim.statusBarColorControl": true,
  // Define colors for different Vim modes
  "vim.statusBarColors.normal": "#519aba",
  "vim.statusBarColors.insert": "#98c379",
  "vim.statusBarColors.visual": "#c678dd",
  "vim.statusBarColors.visualline": "#c678dd",
  "vim.statusBarColors.visualblock": "#c678dd",
  "vim.statusBarColors.replace": "#e06c75",

  // Handle specific keys (let VS Code manage these when false)
  "vim.handleKeys": {
    // Keep Ctrl+d for scrolling down
    "<C-d>": true,
    // Keep Ctrl+u for scrolling up
    "<C-u>": true,
    // Use VS Code for find, window, and navigation shortcuts
    "<C-f>": false,
    "<C-b>": false,
    "<C-h>": false,
    "<C-j>": false,
    "<C-k>": false,
    "<C-l>": false,
    "<C-w>": false,
    "<C-s>": false
  },

  // Insert Mode Keybindings
  "vim.insertModeKeyBindings": [
    {
      // Exit insert mode by pressing 'j' twice quickly
      "before": [
        "j",
        "j"
      ],
      "after": [
        "<Esc>"
      ]
    }
  ],

  // Normal Mode Keybindings (LazyVim-aligned)
  "vim.normalModeKeyBindingsNonRecursive": [
    // General
    {
      // Delete current line with leader+d
      "before": [
        "<leader>",
        "d"
      ],
      "after": [
        "d",
        "d"
      ]
    },
    {
      // Clear search highlighting
      "before": [
        "<Esc>"
      ],
      "commands": [
        ":nohl"
      ]
    },
    {
      // Clear search highlighting (LazyVim: <leader>ur)
      "before": [
        "<leader>",
        "u",
        "r"
      ],
      "commands": [
        ":nohl"
      ]
    },
    {
      // Hover docs
      "before": [
        "K"
      ],
      "commands": [
        "editor.action.showHover"
      ]
    },

    // File Operations (LazyVim: <leader>f)
    {
      "before": [
        "<leader>",
        "<space>"
      ],
      "commands": [
        "workbench.action.quickOpen"
      ]
    },
    {
      "before": [
        "<leader>",
        "f",
        "f"
      ],
      "commands": [
        "workbench.action.quickOpen"
      ]
    },
    {
      "before": [
        "<leader>",
        "f",
        "r"
      ],
      "commands": [
        "workbench.action.openRecent"
      ]
    },
    {
      "before": [
        "<leader>",
        "f",
        "n"
      ],
      "commands": [
        "workbench.action.files.newUntitledFile"
      ]
    },
    {
      "before": [
        "<leader>",
        "f",
        "e"
      ],
      "commands": [
        "workbench.view.explorer"
      ]
    },
    {
      "before": [
        "<leader>",
        "f",
        "b"
      ],
      "commands": [
        "workbench.action.showAllEditors"
      ]
    },

    // Search (LazyVim: <leader>s, <leader>/)
    {
      "before": [
        "<leader>",
        "/"
      ],
      "commands": [
        "workbench.action.findInFiles"
      ]
    },
    {
      "before": [
        "<leader>",
        "s",
        "g"
      ],
      "commands": [
        "workbench.action.findInFiles"
      ]
    },
    {
      "before": [
        "<leader>",
        "s",
        "w"
      ],
      "commands": [
        "workbench.action.findInFiles"
      ]
    },
    {
      "before": [
        "<leader>",
        "s",
        "s"
      ],
      "commands": [
        "workbench.action.gotoSymbol"
      ]
    },
    {
      "before": [
        "<leader>",
        "s",
        "k"
      ],
      "commands": [
        "workbench.action.openGlobalKeybindings"
      ]
    },
    {
      "before": [
        "<leader>",
        "s",
        "c"
      ],
      "commands": [
        "workbench.action.showCommands"
      ]
    },

    // Buffer Management (LazyVim: <leader>b)
    {
      "before": [
        "<leader>",
        ","
      ],
      "commands": [
        "workbench.action.showAllEditors"
      ]
    },
    {
      "before": [
        "<leader>",
        "b",
        "b"
      ],
      "commands": [
        "workbench.action.showAllEditors"
      ]
    },
    {
      "before": [
        "<leader>",
        "b",
        "d"
      ],
      "commands": [
        "workbench.action.closeActiveEditor"
      ]
    },
    {
      "before": [
        "<leader>",
        "b",
        "o"
      ],
      "commands": [
        "workbench.action.closeOtherEditors"
      ]
    },
    {
      "before": [
        "<leader>",
        "`"
      ],
      "commands": [
        "workbench.action.quickOpenPreviousRecentlyUsedEditorInGroup"
      ]
    },

    // Explorer (LazyVim: <leader>e)
    {
      "before": [
        "<leader>",
        "e"
      ],
      "commands": [
        "workbench.view.explorer"
      ]
    },

    // Code Actions (LazyVim: <leader>c)
    {
      "before": [
        "<leader>",
        "c",
        "a"
      ],
      "commands": [
        "editor.action.quickFix"
      ]
    },
    {
      "before": [
        "<leader>",
        "c",
        "f"
      ],
      "commands": [
        "editor.action.formatDocument"
      ]
    },
    {
      "before": [
        "<leader>",
        "c",
        "r"
      ],
      "commands": [
        "editor.action.rename"
      ]
    },
    {
      "before": [
        "<leader>",
        "c",
        "d"
      ],
      "commands": [
        "editor.action.showHover"
      ]
    },
    {
      "before": [
        "<leader>",
        "c",
        "l"
      ],
      "commands": [
        "workbench.action.problems.focus"
      ]
    },

    // LSP Navigation
    {
      "before": [
        "g",
        "d"
      ],
      "commands": [
        "editor.action.revealDefinition"
      ]
    },
    {
      "before": [
        "g",
        "r"
      ],
      "commands": [
        "editor.action.goToReferences"
      ]
    },
    {
      "before": [
        "g",
        "I"
      ],
      "commands": [
        "editor.action.goToImplementation"
      ]
    },
    {
      "before": [
        "g",
        "D"
      ],
      "commands": [
        "editor.action.revealDeclaration"
      ]
    },
    {
      "before": [
        "g",
        "y"
      ],
      "commands": [
        "editor.action.goToTypeDefinition"
      ]
    },

    // Window Splits (LazyVim: <leader>-, <leader>|, <leader>w)
    {
      "before": [
        "<leader>",
        "-"
      ],
      "commands": [
        "workbench.action.splitEditorDown"
      ]
    },
    {
      "before": [
        "<leader>",
        "|"
      ],
      "commands": [
        "workbench.action.splitEditorRight"
      ]
    },
    {
      "before": [
        "<leader>",
        "w",
        "d"
      ],
      "commands": [
        "workbench.action.closeActiveEditor"
      ]
    },
    {
      "before": [
        "<leader>",
        "w",
        "m"
      ],
      "commands": [
        "workbench.action.toggleMaximizeEditorGroup"
      ]
    },

    // Git (LazyVim: <leader>g)
    {
      "before": [
        "<leader>",
        "g",
        "g"
      ],
      "commands": [
        "workbench.view.scm"
      ]
    },
    {
      "before": [
        "<leader>",
        "g",
        "s"
      ],
      "commands": [
        "workbench.view.scm"
      ]
    },
    {
      "before": [
        "<leader>",
        "g",
        "b"
      ],
      "commands": [
        "gitlens.toggleLineBlame"
      ]
    },
    {
      "before": [
        "<leader>",
        "g",
        "d"
      ],
      "commands": [
        "git.openChange"
      ]
    },
    {
      "before": [
        "<leader>",
        "g",
        "l"
      ],
      "commands": [
        "git.viewHistory"
      ]
    },

    // Terminal (LazyVim: <leader>ft)
    {
      "before": [
        "<leader>",
        "f",
        "t"
      ],
      "commands": [
        "multiCommand.newTerminalAndFocus"
      ]
    },

    // Quit (LazyVim: <leader>qq)
    {
      "before": [
        "<leader>",
        "q",
        "q"
      ],
      "commands": [
        "workbench.action.closeWindow"
      ]
    },

    // Diagnostics (LazyVim: <leader>xx, <leader>xq)
    {
      "before": [
        "<leader>",
        "x",
        "x"
      ],
      "commands": [
        "workbench.actions.view.problems"
      ]
    },
    {
      "before": [
        "<leader>",
        "x",
        "q"
      ],
      "commands": [
        "workbench.actions.view.problems"
      ]
    },

    // Toggles (LazyVim: <leader>u)
    {
      "before": [
        "<leader>",
        "u",
        "w"
      ],
      "commands": [
        "editor.action.toggleWordWrap"
      ]
    },
    {
      "before": [
        "<leader>",
        "u",
        "l"
      ],
      "commands": [
        "workbench.action.toggleEditorLineNumbers"
      ]
    },
    {
      "before": [
        "<leader>",
        "u",
        "z"
      ],
      "commands": [
        "workbench.action.toggleZenMode"
      ]
    }
  ],

  // Visual Mode Keybindings (LazyVim-aligned)
  "vim.visualModeKeyBindings": [
    {
      "before": [
        "<leader>",
        "c",
        "a"
      ],
      "commands": [
        "editor.action.quickFix"
      ]
    },
    {
      "before": [
        "<leader>",
        "c",
        "f"
      ],
      "commands": [
        "editor.action.formatSelection"
      ]
    },
    {
      "before": [
        "g",
        "c"
      ],
      "commands": [
        "editor.action.commentLine"
      ]
    },
    {
      "before": [
        "<leader>",
        "/"
      ],
      "commands": [
        "workbench.action.findInFiles"
      ]
    },
    {
      "before": [
        "<leader>",
        "s",
        "w"
      ],
      "commands": [
        "workbench.action.findInFiles"
      ]
    }
  ],

  // Multi-command Configuration
  "multiCommand.commands": [
    {
      // Toggle maximized terminal panel and focus terminal
      "command": "multiCommand.toggleMaximizedPanelAndFocusTerminal",
      "sequence": [
        "workbench.action.toggleMaximizedPanel",
        "workbench.action.terminal.focus"
      ]
    },
    {
      // Create new terminal and focus it
      "command": "multiCommand.newTerminalAndFocus",
      "sequence": [
        "workbench.action.terminal.new",
        "workbench.action.terminal.focus"
      ]
    }
  ]
}
